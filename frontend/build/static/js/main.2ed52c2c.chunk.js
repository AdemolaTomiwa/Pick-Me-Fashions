(this.webpackJsonppick_me_frontend=this.webpackJsonppick_me_frontend||[]).push([[0],{53:function(e,t,s){},96:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s.n(r),c=s(23),a=s.n(c),i=s(3),o=s(4),d=s(6),l=s(5),j=(s(53),s(8)),u=s(11),h=s(21),p=s(43),b=s(2),O="PRODUCT_LIST_REQUEST",m="PRODUCT_LIST_SUCCESS",x="PRODUCT_LIST_FAIL",g="PRODUCT_DETAILS_REQUEST",v="PRODUCT_DETAILS_SUCCESS",y="PRODUCT_DETAILS_FAIL",f="PRODUCT_CREATE_REQUEST",S="PRODUCT_CREATE_SUCCESS",E="PRODUCT_CREATE_FAIL",C="PRODUCT_DELETE_REQUEST",A="PRODUCT_DELETE_SUCCESS",_="PRODUCT_DELETE_FAIL",N="LATEST_PRODUCT_LIST_REQUEST",D="LATEST_PRODUCT_LIST_SUCCESS",P="LATEST_PRODUCT_LIST_FAIL",L={products:[],product:{},latestProducts:[],productLoading:!1};var I="GET_ERRORS",R="CLEAR_ERRORS",k={msg:null,status:null,id:null};var U=s(20),T="CART_ADD_PRODUCT_REQUEST",w="CART_ADD_PRODUCT_SUCCESS",M="CART_REMOVE_PRODUCT_SUCCESS",F={cartLoading:!1,cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]};var Y="USER_LOGIN_REQUEST",Q="USER_LOGIN_SUCCESS",q="USER_LOGIN_FAIL",G="USER_REGISTER_REQUEST",J="USER_REGISTER_SUCCESS",V="USER_REGISTER_FAIL",B="USER_LIST_REQUEST",H="USER_LIST_SUCCESS",X="USER_LIST_FAIL",z="USER_DELETE_REQUEST",K="USER_DELETE_SUCCESS",W="USER_DELETE_FAIL",Z="USER_DETAILS_REQUEST",$="USER_DETAILS_SUCCESS",ee="USER_DETAILS_FAIL",te="USER_UPDATE_REQUEST",se="USER_UPDATE_SUCCESS",re="USER_UPDATE_FAIL",ne="USER_UPDATE_PROFILE_REQUEST",ce="USER_UPDATE_PROFILE_SUCCESS",ae="USER_UPDATE_PROFILE_FAIL",ie="USER_UPDATE_PROFILE_RESET",oe="USER_LOGOUT_SUCCESS",de={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,isAuthenticated:!!localStorage.getItem("user")||null,token:localStorage.getItem("userToken"),userUpdated:!1,userList:[],singleUser:null,updateSuccess:!1};var le="SAVE_SHIPPING_ADDRESS",je="SAVE_PAYMENT_METHOD",ue="REMOVE_SHIPPING_ADDRESS",he={shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):null,paymentMethod:null};var pe="ORDER_CREATE_REQUEST",be="ORDER_CREATE_SUCCESS",Oe="ORDER_CREATE_FAIL",me="ORDER_LIST_REQUEST",xe="ORDER_LIST_SUCCESS",ge="ORDER_LIST_FAIL",ve="ORDER_MY_LIST_REQUEST",ye="ORDER_MY_LIST_SUCCESS",fe="ORDER_MY_LIST_FAIL",Se="ORDER_DETAILS_REQUEST",Ee="ORDER_DETAILS_SUCCESS",Ce="ORDER_DETAILS_FAIL",Ae="ORDER_PAY_REQUEST",_e="ORDER_PAY_SUCCESS",Ne="ORDER_PAY_FAIL",De="ORDER_PAY_RESET",Pe="ORDER_DELIVER_REQUEST",Le="ORDER_DELIVER_SUCCESS",Ie="ORDER_DELIVER_FAIL",Re="ORDER_DELIVER_RESET",ke={orderLoading:!1,order:null,orders:[],myOrders:[],loading:!1,success:!1,loadingDelivered:!1,successDelivered:!1};var Ue=Object(h.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case g:case f:case C:case N:return Object(b.a)(Object(b.a)({},e),{},{productLoading:!0});case m:return Object(b.a)(Object(b.a)({},e),{},{products:t.payload,productLoading:!1});case D:return Object(b.a)(Object(b.a)({},e),{},{latestProducts:t.payload,productLoading:!1});case x:return Object(b.a)(Object(b.a)({},e),{},{products:[],productLoading:!1});case P:case E:case _:return Object(b.a)(Object(b.a)({},e),{},{productLoading:!1});case v:return Object(b.a)(Object(b.a)({},e),{},{product:t.payload,productLoading:!1});case y:return Object(b.a)(Object(b.a)({},e),{},{product:{},productLoading:!1});case S:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{productLoading:!1});case A:return Object(b.a)(Object(b.a)({},e),{},{productLoading:!1,products:e.products.filter((function(e){return e._id!==t.payload}))});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{msg:t.payload.msg,id:t.payload.id,status:t.payload.status};case R:return{msg:null,status:null,id:null};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(b.a)(Object(b.a)({},e),{},{cartLoading:!0});case w:var s=t.payload,r=e.cartItems.find((function(e){return e.id===s.id}));return r?Object(b.a)(Object(b.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.id===r.id?s:e})),cartLoading:!1}):Object(b.a)(Object(b.a)({},e),{},{cartItems:[s].concat(Object(U.a)(e.cartItems)),cartLoading:!1});case M:return Object(b.a)(Object(b.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload})),cartLoading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case G:case B:case z:case Z:case te:case ne:return Object(b.a)(Object(b.a)({},e),{},{userLoading:!0});case Q:case J:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,userLoading:!1});case ce:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,userLoading:!1,userUpdated:!0});case q:case V:case oe:case ae:return localStorage.removeItem("userToken"),localStorage.removeItem("user"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!1,userLoading:!1,user:null,token:null,userUpdated:!1});case ie:case X:case W:case ee:case re:return Object(b.a)(Object(b.a)({},e),{},{userLoading:!1});case H:return Object(b.a)(Object(b.a)({},e),{},{userLoading:!1,userList:t.payload,updateSuccess:!1,singleUser:null});case K:return Object(b.a)(Object(b.a)({},e),{},{userList:e.userList.filter((function(e){return e._id!==t.payload})),userLoading:!1});case $:return Object(b.a)(Object(b.a)({},e),{},{singleUser:t.payload,userLoading:!1});case se:return Object(b.a)(Object(b.a)({},e),{},{userLoading:!1,updateSuccess:!0});default:return e}},shipping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(b.a)(Object(b.a)({},e),{},{shippingAddress:t.payload});case je:return Object(b.a)(Object(b.a)({},e),{},{paymentMethod:t.payload});case ue:return Object(b.a)(Object(b.a)({},e),{},{shippingAddress:null,paymentMethod:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:case pe:case Se:case ve:return Object(b.a)(Object(b.a)({},e),{},{orderLoading:!0});case xe:return Object(b.a)(Object(b.a)({},e),{},{orders:t.payload,orderLoading:!1});case ge:return Object(b.a)(Object(b.a)({},e),{},{orderLoading:!1,orders:[]});case be:return localStorage.removeItem("cartItems"),Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{orderLoading:!1});case Ee:return Object(b.a)(Object(b.a)({},e),{},{order:t.payload,orderLoading:!1});case Ce:return Object(b.a)(Object(b.a)({},e),{},{orderLoading:!1});case Oe:return Object(b.a)(Object(b.a)({},e),{},{orderLoading:!1,order:null});case Ae:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case _e:return Object(b.a)(Object(b.a)({},e),{},{order:t.payload,loading:!1,success:!0});case Ne:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});case De:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,success:!1});case Pe:return Object(b.a)(Object(b.a)({},e),{},{loadingDelivered:!0});case Le:return Object(b.a)(Object(b.a)({},e),{},{order:t.payload,loadingDelivered:!1,successDelivered:!0});case Ie:return Object(b.a)(Object(b.a)({},e),{},{loadingDelivered:!1});case Re:return Object(b.a)(Object(b.a)({},e),{},{loadingDelivered:!1,successDelivered:!1});case ye:return Object(b.a)(Object(b.a)({},e),{},{myOrders:t.payload,orderLoading:!1});case fe:return Object(b.a)(Object(b.a)({},e),{},{myOrders:[],orderLoading:!1});default:return e}}}),Te=[p.a],we=Object(h.d)(Ue,{},Object(h.c)(h.a.apply(void 0,Te),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Me=s(7),Fe=s(10),Ye=s.n(Fe),Qe=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:I,payload:{msg:e,status:t,id:s}}},qe=function(){return{type:R}},Ge=function(e){var t=e().user.token,s={headers:{"Content-type":"application/json"}};return t&&(s.headers["x-auth-token"]=t),s},Je=s(0),Ve=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showAdmin:!1,openNav:!1},e.showContainer=n.a.createRef(),e.state={show:!1},e.showAdminContainer=n.a.createRef(),e.state={showAdmin:!1},e.handleClickOutside=function(t){e.showContainer.current&&!e.showContainer.current.contains(t.target)&&e.setState({show:!1}),e.showAdminContainer.current&&!e.showAdminContainer.current.contains(t.target)&&e.setState({showAdmin:!1})},e.showDropDown=function(){e.setState({show:!e.state.show})},e.showAdminDropDown=function(){e.setState({showAdmin:!e.state.showAdmin})},e.logout=function(){e.props.logout()},e.toggleNav=function(){e.setState({openNav:!e.state.openNav})},e.closeNav=function(){e.setState({openNav:!e.state.openNav})},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props.user;return Object(Je.jsx)("header",{children:Object(Je.jsx)("div",{className:"header-container",children:Object(Je.jsxs)("div",{className:"header",children:[Object(Je.jsxs)("div",{onClick:this.toggleNav,className:this.state.openNav?"burger close":"burger",children:[Object(Je.jsx)("div",{className:"line-1"}),Object(Je.jsx)("div",{className:"line-2"}),Object(Je.jsx)("div",{className:"line-3"})]}),Object(Je.jsx)("div",{className:"logo",children:Object(Je.jsx)(j.b,{onClick:function(){return e.setState({openNav:!1})},to:"/",children:Object(Je.jsx)("h3",{children:"Pick Me"})})}),Object(Je.jsxs)("div",{className:this.state.openNav?"icons open":"icons",children:[Object(Je.jsx)("div",{className:"cart",children:Object(Je.jsxs)(j.b,{onClick:this.closeNav,to:"/cart",children:[Object(Je.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),t?Object(Je.jsxs)(Je.Fragment,{children:[Object(Je.jsxs)("div",{ref:this.showContainer,className:"user",children:[Object(Je.jsxs)(j.b,{onClick:this.showDropDown,to:"#",children:[t.name," ",Object(Je.jsx)("i",{className:"fas fa-caret-down"})]}),Object(Je.jsxs)("ul",{className:this.state.show?"drop-down":"hide-drop-down",children:[Object(Je.jsx)("li",{children:Object(Je.jsx)(j.b,{onClick:this.closeNav,to:"/profile",children:"Profile"})}),Object(Je.jsx)("li",{children:Object(Je.jsx)(j.b,{onClick:this.closeNav,to:"/myorders",children:"My Orders"})}),Object(Je.jsx)("li",{onClick:this.logout,children:Object(Je.jsx)(j.b,{onClick:this.closeNav,to:"#",children:"Logout"})})]})]}),t.isAdmin?Object(Je.jsxs)("div",{ref:this.showAdminContainer,className:"admin",children:[Object(Je.jsxs)(j.b,{onClick:this.showAdminDropDown,to:"#",children:["Admin ",Object(Je.jsx)("i",{className:"fas fa-caret-down"})]}),Object(Je.jsxs)("ul",{className:this.state.showAdmin?"drop-down":"hide-drop-down",children:[Object(Je.jsx)("li",{children:Object(Je.jsx)(j.b,{onClick:this.closeNav,to:"/admin-user-list",children:"User"})}),Object(Je.jsx)("li",{children:Object(Je.jsx)(j.b,{onClick:this.closeNav,to:"/admin-product-list",children:"Products"})}),Object(Je.jsx)("li",{children:Object(Je.jsx)(j.b,{onClick:this.closeNav,to:"/admin-order-list",children:"Order"})})]})]}):null]}):Object(Je.jsx)("div",{className:"sign-in",children:Object(Je.jsxs)(j.b,{onClick:this.closeNav,to:"/signin",children:[Object(Je.jsx)("i",{className:"fas fa-user"})," Sign In"]})})]})]})})})}}]),s}(r.Component),Be=Object(Me.b)((function(e){return{isAuthenticated:e.user.isAuthenticated,user:e.user.user}}),{logout:function(){return function(e){e({type:oe}),localStorage.removeItem("userToken"),localStorage.removeItem("user"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress")}}})(Ve);var He=function(){return Object(Je.jsx)("footer",{children:Object(Je.jsx)("p",{children:"Copyright \xa9 Pick Me"})})},Xe=function(){return function(e){e({type:O}),Ye.a.get("/api/products").then((function(t){e({type:m,payload:t.data})})).catch((function(t){e(Qe("An error occured! Please try again in one minute!",400,"PRODUCT_LIST_FAIL")),e({type:x})}))}},ze=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(Je.jsx)("div",{className:"loader",children:Object(Je.jsx)("i",{className:"fas fa-spinner fa-spin"})})}}]),s}(r.Component),Ke=ze,We=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.message;return Object(Je.jsx)("div",{className:"error-msg",children:e})}}]),s}(r.Component),Ze=We,$e=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.product;return Object(Je.jsxs)("div",{className:"product",children:[Object(Je.jsx)(j.b,{to:"/product/".concat(e._id),children:Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:e.image,alt:e.name})})}),Object(Je.jsxs)("div",{className:"details",children:[Object(Je.jsx)(j.b,{to:"/product/".concat(e._id),children:Object(Je.jsx)("h4",{children:e.name})}),Object(Je.jsxs)("h3",{children:["#",e.price]})]})]})}}]),s}(r.Component),et=$e,tt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={msg:null},e}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("PRODUCT_LIST_FAIL"===t.id?this.setState({msg:t.msg}):this.setState({msg:null}))}},{key:"render",value:function(){var e=this.props,t=e.productLoading,s=e.products,r=e.error;return Object(Je.jsxs)("div",{className:"product-list",children:[Object(Je.jsx)("h1",{children:"Latest Products"}),t?Object(Je.jsx)(Ke,{}):null!==r.msg?Object(Je.jsx)(Ze,{message:r.msg}):0===s.length?Object(Je.jsx)("div",{className:"alert",children:"Your Product list is empty."}):Object(Je.jsx)("div",{className:"products",children:s.map((function(e){return Object(Je.jsx)(et,{product:e},e._id)}))})]})}}]),s}(r.Component),st=Object(Me.b)((function(e){return{products:e.products.products,productLoading:e.products.productLoading,error:e.error}}),{})(tt),rt=s(46),nt=s.n(rt);function ct(e){var t=e.onClick;return Object(Je.jsx)("div",{className:"icons-right",onClick:t,children:Object(Je.jsx)("i",{className:"fas fa-angle-right"})})}function at(e){var t=e.onClick;return Object(Je.jsx)("div",{className:"icons-left",onClick:t,children:Object(Je.jsx)("i",{className:"fas fa-angle-left"})})}var it=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e={infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,nextArrow:Object(Je.jsx)(ct,{}),prevArrow:Object(Je.jsx)(at,{})},t=this.props,s=t.latestProducts,r=t.productLoading,n=t.error;return Object(Je.jsx)("div",{className:"product-carousel",children:r?Object(Je.jsx)(Ke,{}):null!==n.msg?Object(Je.jsx)(Ze,{message:n.msg}):Object(Je.jsx)(nt.a,Object(b.a)(Object(b.a)({},e),{},{children:s.map((function(e){return Object(Je.jsx)(j.b,{to:"product/".concat(e._id),children:Object(Je.jsxs)("div",{className:"product",children:[Object(Je.jsxs)("h2",{children:[" ",e.name," (#",e.price,")"," "]}),Object(Je.jsx)("img",{src:e.image,alt:e.name})]})},e._id)}))}))})}}]),s}(r.Component),ot=Object(Me.b)((function(e){return{productLoading:e.products.productLoading,latestProducts:e.products.latestProducts,error:e.error}}),{})(it),dt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.getProducts(),this.props.latestProduct(),this.props.clearErrors()}},{key:"render",value:function(){return Object(Je.jsxs)("div",{className:"home-screen",children:[Object(Je.jsx)(ot,{}),Object(Je.jsx)(st,{})]})}}]),s}(r.Component),lt=Object(Me.b)(null,{getProducts:Xe,latestProduct:function(){return function(e){e({type:N}),Ye.a.get("/api/products/latest/products").then((function(t){e({type:D,payload:t.data})})).catch((function(t){e(Qe(t.response.data.msg,t.response.status,"LATEST_PRODUCT_LIST_FAIL")),e({type:P})}))}},clearErrors:qe})(dt),jt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={qty:"1"},e.setQty=function(t){e.setState({qty:t.target.value})},e.addToCart=function(){var t=e.props.match.params.id;e.props.history.push("/cart/".concat(t,"?qty=").concat(e.state.qty))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getProduct(e)}},{key:"render",value:function(){var e=this.props,t=e.error,s=e.productLoading,r=e.product;return Object(Je.jsx)(Je.Fragment,{children:s?Object(Je.jsx)(Ke,{}):null!==t.msg?Object(Je.jsxs)(Je.Fragment,{children:[Object(Je.jsx)("div",{className:"back",children:Object(Je.jsx)(j.b,{to:"/",children:"Go Back"})}),Object(Je.jsx)(Ze,{message:t.msg})]}):Object(Je.jsxs)("div",{className:"product-details",children:[Object(Je.jsx)("div",{className:"back",children:Object(Je.jsx)(j.b,{to:"/",children:"Go Back"})}),Object(Je.jsxs)("div",{className:"details",children:[Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:r.image,alt:r.name})}),Object(Je.jsxs)("div",{className:"title",children:[Object(Je.jsx)("h2",{children:r.name}),Object(Je.jsx)("div",{className:"line"}),Object(Je.jsxs)("p",{children:["Price: #",r.price]}),Object(Je.jsx)("div",{className:"line"}),Object(Je.jsxs)("p",{children:["Description: ",r.description]})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Price: "})," ",Object(Je.jsxs)("span",{children:["#",r.price]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Status: "})," ",Object(Je.jsx)("span",{children:r.countInStock>=1?"In Stock":"Out of Stock"})]}),r.countInStock>=1?Object(Je.jsxs)("div",{className:"select-box",children:[Object(Je.jsx)("p",{children:"Qty:"}),Object(Je.jsxs)("div",{className:"select",children:[Object(Je.jsx)("select",{value:this.state.qty,onChange:this.setQty,children:Object(U.a)(Array(r.countInStock).keys()).map((function(e){return Object(Je.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(Je.jsx)("i",{className:"fas fa-caret-down"})]})]}):null,Object(Je.jsx)("div",{onClick:this.addToCart,className:"button",children:Object(Je.jsx)("button",{disabled:r.countInStock<=0,className:"btn btn-primary",children:"Add To cart"})})]})]})]})})}}]),s}(r.Component),ut=Object(Me.b)((function(e){return{error:e.error,product:e.products.product,productLoading:e.products.productLoading}}),{getProduct:function(e){return function(t){t({type:g}),Ye.a.get("/api/products/".concat(e)).then((function(e){t({type:v,payload:e.data})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"PRODUCT_DETAILS_FAIL")),t({type:y})}))}}})(jt),ht=function(e,t){return function(s,r){s({type:T}),Ye.a.get("/api/products/".concat(e)).then((function(e){var n=e.data,c=n.name,a=n.image,i=n.price,o=n._id,d=n.countInStock;s({type:w,payload:{name:c,image:a,price:i,countInStock:d,id:o,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))})).catch((function(e){s(Qe(e.response.data.msg,e.response.status,"CART_ADD_PRODUCT_FAIL")),s({type:"CART_ADD_PRODUCT_FAIL"})}))}},pt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).setQty=function(t,s){e.props.addToCart(t,Number(s.target.value))},e.deleteItem=function(t){e.props.removeFromCart(t)},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.item;return Object(Je.jsxs)("div",{className:"item",children:[Object(Je.jsx)(j.b,{to:"/product/".concat(e.id),children:Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:e.image,alt:e.name})})}),Object(Je.jsx)(j.b,{to:"/product/".concat(e.id),children:Object(Je.jsx)("div",{className:"name",children:Object(Je.jsx)("h4",{children:e.name})})}),Object(Je.jsx)("div",{className:"price",children:Object(Je.jsxs)("h4",{children:["#",e.price]})}),Object(Je.jsx)("div",{className:"select-box",children:Object(Je.jsxs)("div",{className:"select",children:[Object(Je.jsx)("select",{value:e.qty,onChange:this.setQty.bind(this,e.id),children:Object(U.a)(Array(e.countInStock).keys()).map((function(e){return Object(Je.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(Je.jsx)("i",{className:"fas fa-caret-down"})]})}),Object(Je.jsx)("div",{onClick:this.deleteItem.bind(this,e.id),className:"delete-btn",children:Object(Je.jsx)("i",{className:"fas fa-trash"})})]})}}]),s}(r.Component),bt=Object(Me.b)(null,{addToCart:ht,removeFromCart:function(e){return function(t,s){t({type:M,payload:e}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems))}}})(pt),Ot=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).checkOutHandler=function(t){e.props.user?e.props.history.push("/shipping"):e.props.history.push("/signin?redirect=shipping")},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.location.search?Number(this.props.location.search.split("=")[1]):"1";e&&this.props.addToCart(e,t)}},{key:"componentDidUpdate",value:function(e){this.props.cartItems!==e.cartItems&&this.props.history.push("/cart")}},{key:"render",value:function(){var e=this.props,t=e.cartItems,s=e.cartLoading;return Object(Je.jsx)("div",{className:"cart-page",children:s?Object(Je.jsx)(Ke,{}):Object(Je.jsxs)("div",{className:"cart",children:[Object(Je.jsxs)("div",{className:"cart-content",children:[Object(Je.jsx)("h1",{children:"Shopping Cart"}),0===t.length?Object(Je.jsxs)("div",{className:"alert",children:["Your cart is empty. ",Object(Je.jsx)(j.b,{to:"/",children:"Go Back"})]}):Object(Je.jsx)("div",{className:"cart-items",children:t.map((function(e){return Object(Je.jsx)(bt,{item:e},e.id)}))})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsxs)("div",{className:"title",children:[Object(Je.jsxs)("h3",{children:["Subtotal (",t.reduce((function(e,t){return e+t.qty}),0)," ",") items"]}),Object(Je.jsxs)("h4",{children:["#"," ",t.reduce((function(e,t){return e+t.price*t.qty}),0)]})]}),Object(Je.jsx)("div",{onClick:this.checkOutHandler,className:"button",children:Object(Je.jsx)("button",{disabled:t.length<=0,className:"btn btn-primary",children:"Proceed to checkout"})})]})]})})}}]),s}(r.Component),mt=Object(Me.b)((function(e){return{user:e.user.user,cartItems:e.cart.cartItems,cartLoading:e.cart.cartLoading}}),{addToCart:ht})(Ot),xt=s(17),gt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",msg:null},e.onChange=function(t){e.setState(Object(xt.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var s=e.state,r={email:s.email,password:s.password};e.props.loginUser(r)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.history.push("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props,s=t.error,r=t.isAuthenticated;s!==e.error&&("USER_LOGIN_FAIL"===s.id?this.setState({msg:s.msg}):this.setState({msg:null})),r&&(this.props.history.push("/"),this.props.clearErrors());var n=this.props.location.search?this.props.location.search.split("=")[1]:"/";if(!0===r)return this.props.history.push(n)}},{key:"render",value:function(){var e=this.state,t=e.email,s=e.password,r=e.msg,n=this.props.userLoading;return Object(Je.jsxs)("div",{className:"auth-page",children:[Object(Je.jsx)("h1",{children:"Sign In"}),n?Object(Je.jsx)(Ke,{}):"",r?Object(Je.jsx)(Ze,{message:r}):"",Object(Je.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(Je.jsx)("input",{type:"email",name:"email",value:t,placeholder:"Enter Email",id:"email",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"password",children:"Password"}),Object(Je.jsx)("input",{type:"password",name:"password",value:s,placeholder:"Enter Password",id:"password",onChange:this.onChange})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)("button",{className:"btn btn-primary",children:"Sign In"})}),Object(Je.jsxs)("p",{children:["New Customer? ",Object(Je.jsx)(j.b,{to:"/register",children:"Register"})]})]})]})}}]),s}(r.Component),vt=Object(Me.b)((function(e){return{error:e.error,userLoading:e.user.userLoading,isAuthenticated:e.user.isAuthenticated}}),{loginUser:function(e){return function(t){t({type:Y});Ye.a.post(" /api/auth",e,{headers:{"Content-type":"application/json"}}).then((function(e){t({type:Q,payload:e.data}),localStorage.setItem("userToken",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user))})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"USER_LOGIN_FAIL")),t({type:q})}))}},clearErrors:qe})(gt),yt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={name:"",email:"",password:"",confirmPassword:"",msg:null},e.onChange=function(t){e.setState(Object(xt.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var s=e.state,r=s.name,n=s.email,c=s.password;if(c!==s.confirmPassword)return e.setState({msg:"Password do not match"});var a={name:r,email:n,password:c};e.props.registerUser(a)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.history.push("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props,s=t.error,r=t.isAuthenticated;s!==e.error&&("USER_REGISTER_FAIL"===s.id?this.setState({msg:s.msg}):this.setState({msg:null})),r&&(this.props.history.push("/"),this.props.clearErrors())}},{key:"render",value:function(){var e=this.state,t=e.name,s=e.email,r=e.password,n=e.confirmPassword,c=e.msg,a=this.props.userLoading;return Object(Je.jsxs)("div",{className:"auth-page",children:[Object(Je.jsx)("h1",{children:"Regsiter"}),a?Object(Je.jsx)(Ke,{}):"",c?Object(Je.jsx)(Ze,{message:c}):"",Object(Je.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"name",children:"name Address"}),Object(Je.jsx)("input",{type:"text",name:"name",value:t,placeholder:"Enter Name",id:"name",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(Je.jsx)("input",{type:"email",name:"email",value:s,placeholder:"Enter Email",id:"email",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"password",children:"Password"}),Object(Je.jsx)("input",{type:"password",name:"password",value:r,placeholder:"Enter Password",id:"password",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(Je.jsx)("input",{type:"password",name:"confirmPassword",value:n,placeholder:"Enter Password",id:"confirmPassword",onChange:this.onChange})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)("button",{className:"btn btn-primary",children:"Register"})}),Object(Je.jsxs)("p",{children:["Have an Account? ",Object(Je.jsx)(j.b,{to:"/signin",children:"Login"})]})]})]})}}]),s}(r.Component),ft=Object(Me.b)((function(e){return{error:e.error,userLoading:e.user.userLoading,isAuthenticated:e.user.isAuthenticated}}),{registerUser:function(e){return function(t){t({type:G});Ye.a.post(" /api/users",e,{headers:{"Content-type":"application/json"}}).then((function(e){t({type:J,payload:e.data}),localStorage.setItem("userToken",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user))})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"USER_REGISTER_FAIL")),t({type:V})}))}},clearErrors:qe})(yt),St=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.message;return Object(Je.jsx)("div",{className:"success-msg",children:e})}}]),s}(r.Component),Et=St,Ct=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={name:"",email:"",password:"",confirmPassword:"",errorMsg:null},e.onChange=function(t){e.setState(Object(xt.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var s=e.state,r=s.name,n=s.email,c=s.password,a=s.confirmPassword;if(r)if(n)if(c)if(c.length<=5)e.setState({errorMsg:"Password should be at least 6 character"});else{if(c!==a)return e.setState({errorMsg:"Password do not match"});var i={name:r,email:n,password:c};e.props.updateUserProfile(i),e.setState({errorMsg:null})}else e.setState({errorMsg:"Please enter your Password"});else e.setState({errorMsg:"Please enter your Email"});else e.setState({errorMsg:"Please enter your Name"})},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.user;e?this.setState({name:e.name,email:e.email}):this.props.history.push("/signin")}},{key:"componentDidUpdate",value:function(e){if(!this.props.isAuthenticated)return this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.state,t=e.name,s=e.email,r=e.password,n=e.confirmPassword,c=e.errorMsg,a=this.props,i=a.userUpdated,o=a.userLoading;return Object(Je.jsxs)("div",{className:"profile-page",children:[Object(Je.jsx)("h1",{children:"User Profile"}),o?Object(Je.jsx)(Ke,{}):"",c?Object(Je.jsx)(Ze,{message:c}):"",i?Object(Je.jsx)(Et,{message:"Profile Updated!"}):null,Object(Je.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"name",children:"Name"}),Object(Je.jsx)("input",{type:"name",name:"name",value:t,placeholder:"Enter Name",id:"name",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"email",children:"Email"}),Object(Je.jsx)("input",{type:"email",name:"email",value:s,placeholder:"Enter Email",id:"email",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"password",children:"Password"}),Object(Je.jsx)("input",{type:"password",name:"password",value:r,placeholder:"Enter Password",id:"password",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(Je.jsx)("input",{type:"password",name:"confirmPassword",value:n,placeholder:"Confirm Password",id:"confirmPassword",onChange:this.onChange})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)("button",{className:"btn btn-primary",children:"Update"})})]})]})}}]),s}(r.Component),At=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,userUpdated:e.user.userUpdated,userLoading:e.user.userLoading}}),{updateUserProfile:function(e){return function(t,s){t({type:ne}),Ye.a.put(" /api/users/profile/mine",e,Ge(s)).then((function(e){t({type:ce,payload:e.data}),localStorage.setItem("userToken",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),t({type:ie})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"USER_UPDATE_PROFILE_FAIL")),t({type:ae})}))}}})(Ct),_t=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={currentPage:1,productsPerPage:5},e.handleClick=function(t){e.setState({currentPage:Number(t.target.id)})},e.createProduct=function(){e.props.history.push("/admin-product-create")},e.deleteProduct=function(t){e.props.deleteProduct(t),e.props.getProducts()},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.user;if(!e||!e.isAdmin)return this.props.history.push("/signin");this.props.getProducts()}},{key:"componentDidUpdate",value:function(e){var t=this.props,s=t.isAuthenticated,r=t.error;if(!s)return this.props.history.push("/signin");r!==e.error&&"PRODUCT_DELETE_FAIL"===r.id&&this.props.getProducts()}},{key:"render",value:function(){var e=this,t=this.props,s=t.products,r=t.productLoading,n=t.error;return Object(Je.jsxs)("div",{className:"admin-product-list",children:[Object(Je.jsxs)("div",{className:"header",children:[Object(Je.jsx)("h1",{children:"Product"}),Object(Je.jsxs)("div",{onClick:this.createProduct,className:"btn btn-dark",children:[Object(Je.jsx)("i",{className:"fas fa-plus"})," Create Product"]})]}),r?Object(Je.jsx)(Ke,{}):null!==n.msg?Object(Je.jsx)(Ze,{message:n.msg}):0===s.length?Object(Je.jsx)("div",{className:"alert",children:"Your Product list is empty."}):Object(Je.jsxs)("div",{className:"product",children:[Object(Je.jsxs)("table",{cellSpacing:"0",children:[Object(Je.jsx)("thead",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("th",{children:"Id"}),Object(Je.jsx)("th",{children:"Name"}),Object(Je.jsx)("th",{children:"Price"}),Object(Je.jsx)("th",{children:"Category"}),Object(Je.jsx)("th",{children:"Brand"}),Object(Je.jsx)("th",{})]})}),Object(Je.jsx)("tbody",{children:s.map((function(t){return Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("td",{children:t._id}),Object(Je.jsx)("td",{children:t.name}),Object(Je.jsxs)("td",{children:["#",t.price]}),Object(Je.jsx)("td",{children:t.category}),Object(Je.jsx)("td",{children:t.brand}),Object(Je.jsx)("td",{onClick:e.deleteProduct.bind(e,t._id),children:Object(Je.jsx)("i",{className:"fas fa-trash"})})]},t._id)}))})]}),Object(Je.jsx)("div",{className:"mobile",children:s.map((function(t){return Object(Je.jsxs)("div",{className:"mobile-product",children:[Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:t.image,alt:t.name})}),Object(Je.jsxs)("div",{className:"content",children:[Object(Je.jsx)("h3",{children:t.name}),Object(Je.jsxs)("p",{children:["Order ",t._id]}),Object(Je.jsxs)("p",{children:[" #",t.price," "]}),Object(Je.jsxs)("p",{children:[" Category - ",t.category," "]}),Object(Je.jsxs)("p",{children:[" Brand - ",t.brand," "]})]}),Object(Je.jsx)("div",{className:"icon",onClick:e.deleteProduct.bind(e,t._id),children:Object(Je.jsx)("i",{className:"fas fa-trash"})})]},t._id)}))})]})]})}}]),s}(r.Component),Nt=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,products:e.products.products,productLoading:e.products.productLoading,error:e.error}}),{getProducts:Xe,deleteProduct:function(e){return function(t,s){t({type:C}),Ye.a.delete("/api/products/".concat(e),Ge(s)).then((function(s){t({type:A,payload:e})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"PRODUCT_DELETE_FAIL")),t({type:_})}))}}})(_t),Dt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={name:"",image:"",price:"",description:"",category:"",countInStock:"",brand:"",imageErr:!1,errorMessage:!1,serverError:!1,imageLoading:!1},e.onChange=function(t){e.setState(Object(xt.a)({},t.target.name,t.target.value))},e.uploadImage=function(t){var s=t.target.files[0],r=new FormData;r.append("image",s),e.setState({imageLoading:!0});Ye.a.post("/api/uploads",r,{headers:{"Content-type":"multi-part/form-data"}}).then((function(t){e.setState({image:t.data,imageErr:!1,imageLoading:!1})})).catch((function(t){e.setState({image:"",imageErr:!0,imageLoading:!1})}))},e.onSubmit=function(t){t.preventDefault();var s=e.state,r=s.name,n=s.image,c=s.price,a=s.brand,i=s.category,o=s.countInStock,d=s.description;if(!r||!c||!n||!d||!i||!a||!o)return e.setState({errorMessage:!0});var l={name:r,image:n,price:c,description:d,countInStock:o,brand:a,category:i};e.props.createProduct(l)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.user;if(!e||!e.isAdmin)return this.props.history.push("/signin")}},{key:"componentDidUpdate",value:function(e){var t=this.props,s=t.product,r=t.isAuthenticated,n=t.error;return s!==e.product?this.props.history.push("/admin-product-list"):r?void(n!==e.error&&this.setState({serverError:!0})):this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.state,t=e.name,s=e.price,r=e.description,n=e.category,c=e.countInStock,a=e.brand,i=e.imageErr,o=e.errorMessage,d=e.serverError,l=e.imageLoading,j=this.props,u=j.productLoading,h=j.error;return Object(Je.jsxs)("div",{className:"admin-product-create",children:[Object(Je.jsx)("h1",{children:"Edit Product"}),o?Object(Je.jsx)(Ze,{message:"Please enter all field!"}):null,d?Object(Je.jsx)(Ze,{message:h.msg}):null,u?Object(Je.jsx)(Ke,{}):null,Object(Je.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"name",children:"Name"}),Object(Je.jsx)("input",{type:"text",id:"name",placeholder:"Enter Product Name",name:"name",value:t,onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"price",children:"Price"}),Object(Je.jsx)("input",{type:"text",id:"price",placeholder:"Enter Product Price",name:"price",value:s,onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"image",children:"Image"}),Object(Je.jsx)("input",{type:"file",className:"file",id:"image",name:"image",onChange:this.uploadImage}),l?Object(Je.jsx)(Ke,{}):i?Object(Je.jsxs)("p",{className:"image-error",children:[Object(Je.jsx)("i",{className:"fas fa-exclamation-circle"})," Only Image!"]}):null]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(Je.jsx)("input",{type:"text",id:"brand",placeholder:"Enter Product Brand",name:"brand",value:a,onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"countInStock",children:"Count In Stock"}),Object(Je.jsx)("input",{type:"number",id:"countInStock",placeholder:"Enter Product Count In Stock",name:"countInStock",value:c,onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"category",children:"Category"}),Object(Je.jsx)("input",{type:"text",id:"category",placeholder:"Enter Product Category",name:"category",value:n,onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"description",children:"Description"}),Object(Je.jsx)("textarea",{placeholder:"Enter Product Description",onChange:this.onChange,value:r,name:"description",id:"description",cols:"30",rows:"5"})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)("button",{className:"btn btn-dark",children:"Add Product"})})]})]})}}]),s}(r.Component),Pt=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,productLoading:e.products.productLoading,product:e.products.product,error:e.error}}),{createProduct:function(e){return function(t,s){t({type:f}),s().user.user.isAdmin?Ye.a.post("/api/products",e,Ge(s)).then((function(e){t({type:S,payload:e.data})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"PRODUCT_CREATE_FAIL")),t({type:E})})):t({type:E})}}})(Dt),Lt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={currentPage:1,usersPerPage:5},e.handleClick=function(t){e.setState({currentPage:Number(t.target.id)})},e.deleteUser=function(t){e.props.deleteUser(t)},e.updateUser=function(t){e.props.history.push("/admin-user-edit/".concat(t))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.user;if(!e||!e.isAdmin)return this.props.history.push("/signin");this.props.getUserList()}},{key:"componentDidUpdate",value:function(e){if(!this.props.isAuthenticated)return this.props.history.push("/signin")}},{key:"render",value:function(){var e=this,t=this.props,s=t.userLoading,r=t.userList,n=t.error;return Object(Je.jsxs)("div",{className:"admin-user-list",children:[Object(Je.jsx)("h1",{children:"User"}),s?Object(Je.jsx)(Ke,{}):null!==n.msg?Object(Je.jsx)(Ze,{message:n.msg}):0===r.length?Object(Je.jsx)("div",{className:"alert",children:"Your Product list is empty."}):Object(Je.jsxs)("div",{className:"user",children:[Object(Je.jsxs)("table",{cellSpacing:"0",children:[Object(Je.jsx)("thead",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("th",{children:"Id"}),Object(Je.jsx)("th",{children:"Name"}),Object(Je.jsx)("th",{children:"Email"}),Object(Je.jsx)("th",{children:"Is Admin"}),Object(Je.jsx)("th",{})]})}),Object(Je.jsx)("tbody",{children:r.map((function(t){return Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("td",{children:t._id}),Object(Je.jsx)("td",{children:t.name}),Object(Je.jsx)("td",{children:t.email}),Object(Je.jsxs)("td",{children:[t.isAdmin?Object(Je.jsx)("i",{className:"fas fa-check"}):Object(Je.jsx)("i",{className:"fas fa-times"})," "]}),Object(Je.jsxs)("td",{className:"icons",children:[Object(Je.jsx)("i",{onClick:e.updateUser.bind(e,t._id),className:"fas fa-edit"}),Object(Je.jsx)("i",{onClick:e.deleteUser.bind(e,t._id),className:"fas fa-trash"})]})]},t._id)}))})]}),Object(Je.jsx)("div",{className:"mobile",children:r.map((function(t){return Object(Je.jsxs)("div",{className:"mobile-user",children:[Object(Je.jsxs)("h3",{children:[Object(Je.jsx)("span",{children:"Name"})," - ",t.name]}),Object(Je.jsxs)("h3",{children:[Object(Je.jsx)("span",{children:"Email"})," - ",t.email]}),Object(Je.jsxs)("h3",{children:[Object(Je.jsx)("span",{children:"User Id"})," - ",t._id," "]}),Object(Je.jsxs)("h3",{children:[Object(Je.jsx)("span",{children:"Is Admin"})," -"," ",t.isAdmin?Object(Je.jsx)("i",{style:{color:"#28a745"},className:"fas fa-check"}):Object(Je.jsx)("i",{style:{color:"#dc3545"},className:"fas fa-times"})," "]}),Object(Je.jsxs)("div",{className:"icons",children:[Object(Je.jsx)("i",{onClick:e.updateUser.bind(e,t._id),className:"fas fa-edit"}),Object(Je.jsx)("i",{onClick:e.deleteUser.bind(e,t._id),className:"fas fa-trash"})]})]})}))})]})]})}}]),s}(r.Component),It=Object(Me.b)((function(e){return{user:e.user.user,userLoading:e.user.userLoading,isAuthenticated:e.user.isAuthenticated,userList:e.user.userList,error:e.error}}),{getUserList:function(){return function(e,t){e({type:B}),Ye.a.get(" /api/users",Ge(t)).then((function(t){e({type:H,payload:t.data})})).catch((function(t){e(Qe("An error occured! Please try again in one minute!",t.response.status,"USER_LIST_FAIL")),e({type:X})}))}},deleteUser:function(e){return function(t,s){t({type:z}),Ye.a.delete(" /api/users/".concat(e),Ge(s)).then((function(s){t({type:K,payload:e})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"USER_DELETE_FAIL")),t({type:W})}))}}})(Lt),Rt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={id:"",name:"",email:"",isAdmin:""},e.onChange=function(){e.setState({isAdmin:!e.state.isAdmin})},e.onSubmit=function(t){t.preventDefault();var s=e.state.id,r={isAdmin:e.state.isAdmin};e.props.updateUser(s,r)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.user;if(!t||!t.isAdmin)return this.props.history.push("/signin");this.props.getUser(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,s=t.isAuthenticated,r=t.singleUser,n=t.updateSuccess;return s?r!==e.singleUser?this.setState({isAdmin:r.isAdmin,name:r.name,email:r.email,id:r._id}):void(n&&this.props.history.push("/admin-user-list")):this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.state,t=e.isAdmin,s=e.name,r=e.email,n=this.props,c=n.userLoading,a=n.error;return Object(Je.jsxs)("div",{className:"admin-user-edit",children:[Object(Je.jsx)("h1",{children:"User Edit"}),c?Object(Je.jsx)(Ke,{}):null!==a.msg?Object(Je.jsx)(Ze,{message:a.msg}):Object(Je.jsx)("form",{onSubmit:this.onSubmit,children:Object(Je.jsxs)("div",{children:[Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("label",{htmlFor:"name",children:"Name"}),Object(Je.jsx)("div",{children:s})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("label",{htmlFor:"email",children:"Email"}),Object(Je.jsx)("div",{children:r})]}),Object(Je.jsxs)("div",{className:"checkbox",children:[Object(Je.jsx)("input",{value:t,checked:t,type:"checkbox",id:"isAdmin",name:"isAdmin",onChange:this.onChange}),Object(Je.jsx)("label",{htmlFor:"isAdmin",children:"Is Admin"})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)("button",{className:"btn btn-dark",children:"Update"})})]})})]})}}]),s}(r.Component),kt=Object(Me.b)((function(e){return{user:e.user.user,userLoading:e.user.userLoading,isAuthenticated:e.user.isAuthenticated,error:e.error,singleUser:e.user.singleUser,updateSuccess:e.user.updateSuccess}}),{getUser:function(e){return function(t,s){t({type:Z}),Ye.a.get(" /api/users/".concat(e),Ge(s)).then((function(e){t({type:$,payload:e.data})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"USER_DETAILS_FAIL")),t({type:ee})}))}},updateUser:function(e,t){return function(s,r){s({type:te}),Ye.a.put(" /api/users/".concat(e),t,Ge(r)).then((function(e){s({type:se,payload:e.data})})).catch((function(e){s(Qe(e.response.data.msg,e.response.status,"USER_UPDATE_FAIL")),s({type:re})}))}}})(Rt),Ut=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props,t=e.step1,s=e.step2,r=e.step3,n=e.step4;return Object(Je.jsxs)("div",{className:"check-out",children:[Object(Je.jsx)("div",{className:t?"active":"",children:"Sign In"}),Object(Je.jsx)("div",{className:s?"active":"",children:"Shipping"}),Object(Je.jsx)("div",{className:r?"active":"",children:"Payment"}),Object(Je.jsx)("div",{className:n?"active":"",children:"Place Order"})]})}}]),s}(r.Component),Tt=Ut,wt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={address:"",city:"",postalCode:"",country:"",errorMsg:null},e.onChange=function(t){e.setState(Object(xt.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var s=e.state,r=s.country,n=s.city,c=s.postalCode,a=s.address;if(a)if(n)if(c)if(r){var i={address:a,country:r,city:n,postalCode:c};e.props.saveShipping(i),e.props.history.push("/payment")}else e.setState({errorMsg:"Please enter your country"});else e.setState({errorMsg:"Please enter your Postal Code"});else e.setState({errorMsg:"Please enter your city"});else e.setState({errorMsg:"Please enter your address"})},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,s=e.shippingAddress;if(!t)return this.props.history.push("/signin");if(s){var r=s.address,n=s.city,c=s.country,a=s.postalCode;this.setState({address:r,city:n,country:c,postalCode:a})}}},{key:"componentDidUpdate",value:function(e){if(!this.props.isAuthenticated)return this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.state,t=e.address,s=e.city,r=e.postalCode,n=e.country,c=e.errorMsg;return Object(Je.jsx)("div",{className:"container",children:Object(Je.jsxs)("div",{className:"shipping",children:[Object(Je.jsx)(Tt,{step1:!0,step2:!0}),Object(Je.jsx)("h1",{children:"Shipping"}),null!==c?Object(Je.jsx)(Ze,{message:c}):null,Object(Je.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"address",children:"Address"}),Object(Je.jsx)("input",{type:"text",id:"address",name:"address",value:t,placeholder:"Enter Address",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"city",children:"City"}),Object(Je.jsx)("input",{type:"text",id:"city",name:"city",value:s,placeholder:"Enter City",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(Je.jsx)("input",{type:"text",id:"postalCode",name:"postalCode",value:r,placeholder:"Enter Postal Code",onChange:this.onChange})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("label",{htmlFor:"country",children:"Country"}),Object(Je.jsx)("input",{type:"text",id:"country",name:"country",value:n,placeholder:"Enter Country",onChange:this.onChange})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)("button",{className:"btn btn-primary",children:"Continue"})})]})]})})}}]),s}(r.Component),Mt=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,shippingAddress:e.shipping.shippingAddress}}),{saveShipping:function(e){return function(t,s){t({type:le,payload:e}),localStorage.setItem("shippingAddress",JSON.stringify(s().shipping.shippingAddress))}}})(wt),Ft=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={payment:null,errorMsg:null},e.onChange=function(t){e.setState({payment:t.target.value})},e.onSubmit=function(t){t.preventDefault(),null===e.state.payment?e.setState({errorMsg:"Please select payment method!"}):(e.props.savePayment(e.state.payment),e.setState({errorMsg:null}),e.props.history.push("/placeorder"))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,s=e.shippingAddress;return t?s?void 0:this.props.history.push("/shipping"):this.props.history.push("/signin")}},{key:"componentDidUpdate",value:function(){if(!this.props.isAuthenticated)return this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.state.errorMsg;return Object(Je.jsx)("div",{className:"container",children:Object(Je.jsxs)("div",{className:"payment",children:[Object(Je.jsx)(Tt,{step1:!0,step2:!0,step3:!0}),Object(Je.jsx)("h1",{children:"Payment Method"}),null!==e?Object(Je.jsx)(Ze,{message:e}):null,Object(Je.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(Je.jsxs)("div",{children:[Object(Je.jsx)("input",{type:"radio",id:"paypal",value:"PayPal",name:"payment",onChange:this.onChange}),Object(Je.jsx)("label",{htmlFor:"paypal",children:"PayPal or Credit Card"})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("input",{type:"radio",id:"cash",value:"Cash on Delivery",name:"payment",onChange:this.onChange}),Object(Je.jsx)("label",{htmlFor:"cash",children:"Cash on Delivery"})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)("button",{className:"btn btn-primary",children:"Continue"})})]})]})})}}]),s}(r.Component),Yt=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,shippingAddress:e.shipping.shippingAddress}}),{savePayment:function(e){return function(t){t({type:je,payload:e})}}})(Ft),Qt=function(e){return function(t,s){t({type:Se}),Ye.a.get(" /api/orders/".concat(e),Ge(s)).then((function(e){t({type:Ee,payload:e.data})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"ORDER_DETAILS_FAIL")),t({type:Ce})}))}},qt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).placeOrder=function(){var t=e.props,s=t.cartItems,r=t.shippingAddress,n=t.paymentMethod,c=t.user,a=function(e){return Number(e.toFixed(2))},i=a(s.reduce((function(e,t){return e+t.qty*t.price}),0)),o=a(a(i<1e3?0:10)),d=a(.15*i),l={orderItems:s,shippingAddress:r,paymentMethod:n,itemPrice:i,shippingPrice:o,taxPrice:d,totalPrice:a(i+o+d),user:c.id,userObject:c};e.props.createOrder(l)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,s=e.shippingAddress,r=e.paymentMethod;return t?s?r?void 0:this.props.history.push("/payment"):this.props.history.push("/shipping"):this.props.history.push("/signin")}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isAuthenticated,s=e.order;if(!t)return this.props.history.push("/signin");null!==s&&this.props.history.push("/order/".concat(s._id))}},{key:"render",value:function(){var e=this.props,t=e.cartItems,s=e.shippingAddress,r=e.paymentMethod,n=e.orderLoading,c=e.error,a=s.address,i=s.city,o=s.postalCode,d=s.country,l=function(e){return Number(e.toFixed(2))},j=l(t.reduce((function(e,t){return e+t.qty*t.price}),0)),u=l(l(j<1e3?0:10)),h=l(.15*j),p=l(j+u+h);return Object(Je.jsxs)("div",{className:"confirm-order-page",children:[Object(Je.jsx)(Tt,{step1:!0,step2:!0,step3:!0,step4:!0}),null!==c.msg?Object(Je.jsx)(Ze,{message:c.msg}):null,Object(Je.jsxs)("div",{className:"confirm",children:[Object(Je.jsx)("div",{className:"place-order",children:Object(Je.jsxs)("div",{className:"boxes",children:[Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Shipping"}),Object(Je.jsxs)("p",{children:["Address: ",a,", ",i,", ",o,", ",d]})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Payment Method"}),Object(Je.jsxs)("p",{children:["Method: ",r]})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Order Item(s)"}),t.map((function(e){return Object(Je.jsxs)("div",{className:"item-box",children:[Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:e.image,alt:e.name})}),Object(Je.jsx)("div",{children:Object(Je.jsx)("h5",{children:e.name})}),Object(Je.jsx)("div",{className:"qty",children:Object(Je.jsxs)("h5",{children:[e.qty," x ",e.price," = #"," ",e.qty*e.price]})})]},e.id)}))]})]})}),Object(Je.jsx)("div",{className:"summary-box",children:Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("div",{children:Object(Je.jsx)("h3",{children:"ORDER SUMMARY"})}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Items:"}),Object(Je.jsxs)("span",{children:["#",j]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Shipping:"}),Object(Je.jsxs)("span",{children:["#",u]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Tax:"}),Object(Je.jsxs)("span",{children:["#",h]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Total:"}),Object(Je.jsx)("span",{children:Object(Je.jsxs)("b",{children:["#",p]})})]}),Object(Je.jsxs)("div",{onClick:this.placeOrder,className:"box-btn",children:[Object(Je.jsx)("button",{disabled:t.length<=0,className:"btn btn-primary",children:"Place Order"}),n?Object(Je.jsx)(Ke,{}):null]})]})})]})]})}}]),s}(r.Component),Gt=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,cartItems:e.cart.cartItems,shippingAddress:e.shipping.shippingAddress,paymentMethod:e.shipping.paymentMethod,order:e.order.order,orderLoading:e.order.orderLoading,error:e.error}}),{createOrder:function(e){return function(t,s){t({type:pe}),Ye.a.post(" /api/orders",e,Ge(s)).then((function(e){t({type:be,payload:e.data}),localStorage.removeItem("cartItems")})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"ORDER_CREATE_FAIL")),t({type:Oe})}))}}})(qt),Jt=s(32),Vt=s.n(Jt),Bt=s(47),Ht=s(48),Xt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).successPaymentHandler=function(t){var s=e.props.order;e.props.payOrder(s._id,t)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,s=this.props,r=s.order;if(!s.user)return this.props.history.push("/signin");var n=function(){var t=Object(Bt.a)(Vt.a.mark((function t(){var s,r,n;return Vt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye.a.get("/api/config/paypal");case 2:s=t.sent,r=s.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(r),n.async=!0,n.onload=function(){e.setState({sdk:!0})},document.body.appendChild(n);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r&&r._id===t?r.isPaid||(window.paypal?this.setState({sdk:!0}):n()):this.props.getOrder(t)}},{key:"componentDidUpdate",value:function(){if(!this.props.isAuthenticated)return this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.props,t=e.order,s=e.orderLoading,r=e.loadingPay,n=e.error;return Object(Je.jsxs)("div",{className:"order-review-page",children:[Object(Je.jsx)("div",{className:"order-review",children:s?Object(Je.jsx)(Ke,{}):null!==n.msg?Object(Je.jsx)(Ze,{message:n.msg}):null===t?Object(Je.jsx)(Ke,{}):Object(Je.jsxs)(Je.Fragment,{children:[Object(Je.jsxs)("h1",{children:["Order ",t._id]}),Object(Je.jsxs)("div",{className:"boxes",children:[Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Shipping"}),Object(Je.jsxs)("p",{children:["Name: ",t.userObject.name," "]}),Object(Je.jsxs)("p",{children:["Email: ",t.userObject.email," "]}),Object(Je.jsxs)("p",{children:["Address: ",t.shippingAddress.address,","," ",t.shippingAddress.city,","," ",t.shippingAddress.postalCode,","," ",t.shippingAddress.country," "]}),t.isDelivered?Object(Je.jsx)(Et,{message:"Delivered at ".concat(t.deliveredAt)}):Object(Je.jsx)(Ze,{message:"Not Delivered"})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Payment Method"}),Object(Je.jsxs)("p",{children:["Method: ",t.paymentMethod]}),t.isPaid?Object(Je.jsx)(Et,{message:"Paid at ".concat(t.paidAt)}):Object(Je.jsx)(Ze,{message:"Not Paid"})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Order Items"}),t.orderItems.map((function(e){return Object(Je.jsxs)("div",{className:"item-box",children:[Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:e.image,alt:e.name})}),Object(Je.jsx)("div",{className:"name",children:Object(Je.jsxs)("h5",{children:[" ",e.name," "]})}),Object(Je.jsx)("div",{className:"qty",children:Object(Je.jsxs)("h5",{children:[e.qty," x ",e.price," = #"," ",e.qty*e.price]})})]},e._id)}))]})]})]})}),Object(Je.jsx)("div",{className:"summary-box",children:null===t?Object(Je.jsx)(Ke,{}):Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("div",{children:Object(Je.jsx)("h3",{children:"Order Summary"})}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Items:"}),Object(Je.jsxs)("span",{children:["# ",t.itemPrice," "]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Shipping:"}),Object(Je.jsxs)("span",{children:["# ",t.shippingPrice," "]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Tax:"}),Object(Je.jsxs)("span",{children:["# ",t.taxPrice," "]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Total:"}),Object(Je.jsxs)("span",{children:[Object(Je.jsxs)("b",{children:["# ",t.totalPrice]})," "]})]}),t.isPaid?null:"PayPal"===t.paymentMethod?Object(Je.jsxs)(Je.Fragment,{children:[r?Object(Je.jsx)(Ke,{}):null,Object(Je.jsx)(Ht.PayPalButton,{amount:t.totalPrice,onSuccess:this.successPaymentHandler})]}):null]})})]})}}]),s}(r.Component),zt=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,order:e.order.order,orderLoading:e.order.orderLoading,loadingPay:e.order.loading,successPay:e.order.success,error:e.error}}),{getOrder:Qt,payOrder:function(e,t){return function(s,r){s({type:Ae}),Ye.a.put(" /api/orders/".concat(e,"/pay"),t,Ge(r)).then((function(e){s({type:_e,payload:e.data})})).catch((function(e){s(Qe(e.response.data.msg,e.response.status,"ORDER_PAY_FAIL")),s({type:Ne})}))}}})(Xt),Kt=s(18),Wt=s.n(Kt),Zt=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={currentPage:1,ordersPerPage:5},e.handleClick=function(t){e.setState({currentPage:Number(t.target.id)})},e.getOrderDetails=function(t){e.props.history.push("/admin-order-details/".concat(t))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.user;if(!e||!e.isAdmin)return this.props.history.push("/signin");this.props.getOrders()}},{key:"componentDidUpdate",value:function(){if(!this.props.isAuthenticated)return this.props.history.push("/signin")}},{key:"render",value:function(){var e=this,t=this.props,s=t.orders,r=t.orderLoading,n=t.error;return Object(Je.jsxs)("div",{className:"admin-order-list",children:[Object(Je.jsx)("div",{className:"header",children:Object(Je.jsx)("h1",{children:"Orders"})}),r?Object(Je.jsx)(Ke,{}):null!==n.msg?Object(Je.jsx)(Ze,{message:n.msg}):0===s.length?Object(Je.jsx)("div",{className:"alert",children:"Orders are empty!."}):Object(Je.jsxs)("div",{className:"order",children:[Object(Je.jsxs)("table",{cellSpacing:"0",children:[Object(Je.jsx)("thead",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("th",{children:"Id"}),Object(Je.jsx)("th",{children:"User"}),Object(Je.jsx)("th",{children:"Date"}),Object(Je.jsx)("th",{children:"Total"}),Object(Je.jsx)("th",{children:"Paid"}),Object(Je.jsx)("th",{children:"Delivered"}),Object(Je.jsx)("th",{})]})}),Object(Je.jsx)("tbody",{children:s.map((function(t){return Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("td",{children:t._id}),Object(Je.jsx)("td",{children:t.userObject.name}),Object(Je.jsxs)("td",{children:[" ",Object(Je.jsx)(Wt.a,{format:"MM-DD-YYYY",children:t.orderDate})]}),Object(Je.jsxs)("td",{children:["#",t.totalPrice]}),Object(Je.jsxs)("td",{children:[t.isPaid?Object(Je.jsx)(Wt.a,{format:"MM-DD-YYYY",children:t.paidAt}):Object(Je.jsx)("i",{className:"fas fa-times"})," "]}),Object(Je.jsxs)("td",{children:[t.isDelivered?Object(Je.jsx)(Wt.a,{format:"MM-DD-YYYY",children:t.deliveredAt}):Object(Je.jsx)("i",{className:"fas fa-times"})," "]}),Object(Je.jsx)("td",{children:Object(Je.jsx)("button",{onClick:e.getOrderDetails.bind(e,t._id),className:"btn btn-light",children:"Details"})})]},t._id)}))})]}),Object(Je.jsx)("div",{className:"mobile",children:s.map((function(t){return Object(Je.jsxs)("div",{onClick:e.getOrderDetails.bind(e,t._id),className:"mobile-order",children:[Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:t.orderItems[0].image,alt:t.orderItems[0].name})}),Object(Je.jsxs)("div",{className:"content",children:[Object(Je.jsx)("h3",{children:t.userObject.name}),Object(Je.jsxs)("p",{children:["Order ",t._id]}),Object(Je.jsx)("h4",{children:t.isPaid?Object(Je.jsx)("span",{style:{backgroundColor:"#28a745"},children:"Paid"}):Object(Je.jsx)("span",{style:{backgroundColor:"#dc3545"},children:"Not Paid"})}),Object(Je.jsx)("h4",{children:t.isDelivered?Object(Je.jsx)("span",{style:{backgroundColor:"#28a745"},children:"Delivered"}):Object(Je.jsx)("span",{style:{backgroundColor:"#dc3545"},children:"Not Delivered"})}),Object(Je.jsxs)("p",{children:["Order date - ",t.orderDate]})]})]},t._id)}))})]})]})}}]),s}(r.Component),$t=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,orders:e.order.orders,orderLoading:e.order.orderLoading,error:e.error}}),{getOrders:function(){return function(e,t){e({type:me}),Ye.a.get(" /api/orders",Ge(t)).then((function(t){e({type:xe,payload:t.data})})).catch((function(t){e(Qe("An error occured! Please try again in one minute!",400,"ORDER_LIST_FAIL")),e({type:ge})}))}}})(Zt),es=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).markPaid=function(){var t=e.props.order;e.props.payCashOrder(t._id)},e.markDelivered=function(){var t=e.props.order;e.props.deliverOrder(t)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.user;if(!t||!t.isAdmin)return this.props.history.push("/signin");this.props.getOrder(e)}},{key:"componentDidUpdate",value:function(){if(!this.props.isAuthenticated)return this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.props,t=e.order,s=e.orderLoading,r=e.loadingDeliver,n=e.loadingPay;return Object(Je.jsxs)("div",{className:"order-review-page",children:[Object(Je.jsx)("div",{className:"order-review",children:s||null===t?Object(Je.jsx)(Ke,{}):Object(Je.jsxs)(Je.Fragment,{children:[Object(Je.jsxs)("h1",{children:["Order ",t._id," "]}),Object(Je.jsxs)("div",{className:"boxes",children:[Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Shipping"}),Object(Je.jsxs)("p",{children:["Name: ",t.userObject.name," "]}),Object(Je.jsxs)("p",{children:["Email: ",t.userObject.email," "]}),Object(Je.jsxs)("p",{children:["Address: ",t.shippingAddress.address,","," ",t.shippingAddress.city,","," ",t.shippingAddress.postalCode,","," ",t.shippingAddress.country," "]}),t.isDelivered?Object(Je.jsx)(Et,{message:"Delivered at ".concat(t.deliveredAt)}):Object(Je.jsx)(Ze,{message:"Not Deliverd"})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Payment Method"}),Object(Je.jsxs)("p",{children:["Method: ",t.paymentMethod]}),t.isPaid?Object(Je.jsx)(Et,{message:"Paid at ".concat(t.paidAt)}):Object(Je.jsx)(Ze,{message:"Not Paid"})]}),Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("h3",{children:"Order Items"}),t.orderItems.map((function(e){return Object(Je.jsxs)("div",{className:"item-box",children:[Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:e.image,alt:e.name})}),Object(Je.jsx)("div",{className:"name",children:Object(Je.jsxs)("h5",{children:[" ",e.name," "]})}),Object(Je.jsx)("div",{className:"qty",children:Object(Je.jsxs)("h5",{children:[e.qty," x ",e.price," = #"," ",e.qty*e.price]})})]},e._id)}))]})]})]})}),Object(Je.jsx)("div",{className:"summary-box",children:null===t?Object(Je.jsx)(Ke,{}):Object(Je.jsxs)("div",{className:"box",children:[Object(Je.jsx)("div",{children:Object(Je.jsx)("h3",{children:"Order Summary"})}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Items:"}),Object(Je.jsxs)("span",{children:["# ",t.itemPrice," "]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Shipping:"}),Object(Je.jsxs)("span",{children:["# ",t.shippingPrice," "]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Tax:"}),Object(Je.jsxs)("span",{children:["# ",t.taxPrice," "]})]}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("p",{children:"Total:"}),Object(Je.jsxs)("span",{children:[Object(Je.jsxs)("b",{children:["# ",t.totalPrice]})," "]})]}),t.isPaid?null:"Cash on Delivery"===t.paymentMethod?Object(Je.jsxs)("div",{className:"box-btn",children:[Object(Je.jsx)("button",{onClick:this.markPaid,className:"btn btn-primary",children:"Mark as Paid"}),n?Object(Je.jsx)(Ke,{}):null]}):null,t.isPaid?t.isDelivered?null:Object(Je.jsxs)("div",{className:"box-btn",children:[Object(Je.jsx)("button",{onClick:this.markDelivered,className:"btn btn-primary",children:"Mark as Delivered"}),r?Object(Je.jsx)(Ke,{}):null]}):null]})})]})}}]),s}(r.Component),ts=Object(Me.b)((function(e){return{isAuthenticated:e.user.isAuthenticated,user:e.user.user,order:e.order.order,orderLoading:e.order.orderLoading,loadingDeliver:e.order.loadingDelivered,successdeliver:e.order.successDelivered,loadingPay:e.order.loading,successPay:e.order.success}}),{getOrder:Qt,deliverOrder:function(e){return function(t,s){t({type:Pe}),Ye.a.put(" /api/orders/".concat(e._id,"/deliver"),e,Ge(s)).then((function(e){t({type:Le,payload:e.data})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"ORDER_DELIVER_FAIL")),t({type:Ie})}))}},payCashOrder:function(e){return function(t,s){t({type:Ae}),Ye.a.put(" /api/orders/".concat(e,"/pay/cash"),{},Ge(s)).then((function(e){t({type:_e,payload:e.data})})).catch((function(e){t(Qe(e.response.data.msg,e.response.status,"ORDER_PAY_FAIL")),t({type:Ne})}))}}})(es),ss=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(i.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getOrderDetails=function(t){e.props.history.push("/order/".concat(t))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){if(!this.props.user)return this.props.history.push("/signin");this.props.listMyOrders()}},{key:"componentDidUpdate",value:function(){if(!this.props.isAuthenticated)return this.props.history.push("/signin")}},{key:"render",value:function(){var e=this,t=this.props,s=t.myOrders,r=t.orderLoading;return Object(Je.jsxs)("div",{className:"myorder-page",children:[Object(Je.jsx)("h1",{children:"My Orders"}),r?Object(Je.jsx)(Ke,{}):Object(Je.jsx)("div",{className:"myorder",children:0===s.length?Object(Je.jsx)("div",{className:"alert",children:"Your order list is empty"}):Object(Je.jsxs)(Je.Fragment,{children:[Object(Je.jsxs)("table",{cellSpacing:"0",children:[Object(Je.jsx)("thead",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("th",{children:"Id"}),Object(Je.jsx)("th",{children:"Date"}),Object(Je.jsx)("th",{children:"Total"}),Object(Je.jsx)("th",{children:"Paid"}),Object(Je.jsx)("th",{children:"Delivered"}),Object(Je.jsx)("th",{})]})}),Object(Je.jsx)("tbody",{children:s.map((function(t){return Object(Je.jsxs)("tr",{children:[Object(Je.jsxs)("td",{children:[" ",t._id," "]}),Object(Je.jsxs)("td",{children:[" ",Object(Je.jsx)(Wt.a,{format:"MM-DD-YYYY",children:t.orderDate})," "]}),Object(Je.jsxs)("td",{children:[" #",t.totalPrice," "]}),Object(Je.jsxs)("td",{children:[" ",t.isPaid?Object(Je.jsx)(Wt.a,{format:"MM-DD-YYYY",children:t.paidAt}):Object(Je.jsx)("i",{className:"fas fa-times"})," "]}),Object(Je.jsx)("td",{children:t.isDelivered?Object(Je.jsx)(Wt.a,{format:"MM-DD-YYYY",children:t.deliveredAt}):Object(Je.jsx)("i",{className:"fas fa-times"})}),Object(Je.jsx)("td",{children:Object(Je.jsx)("button",{onClick:e.getOrderDetails.bind(e,t._id),className:"btn btn-light",children:"Details"})})]},t._id)}))})]}),Object(Je.jsx)("div",{className:"mobile",children:s.map((function(t){return Object(Je.jsxs)("div",{onClick:e.getOrderDetails.bind(e,t._id),className:"mobile-order",children:[Object(Je.jsx)("div",{className:"img",children:Object(Je.jsx)("img",{src:t.orderItems[0].image,alt:t.orderItems[0].name})}),Object(Je.jsxs)("div",{className:"content",children:[Object(Je.jsx)("h3",{children:t.orderItems[0].name}),Object(Je.jsxs)("p",{children:["Order ",t._id]}),Object(Je.jsx)("h4",{children:t.isPaid?Object(Je.jsx)("span",{style:{backgroundColor:"#28a745"},children:"Paid"}):Object(Je.jsx)("span",{style:{backgroundColor:"#dc3545"},children:"Not Paid"})}),Object(Je.jsx)("h4",{children:t.isDelivered?Object(Je.jsx)("span",{style:{backgroundColor:"#28a745"},children:"Delivered"}):Object(Je.jsx)("span",{style:{backgroundColor:"#dc3545"},children:"Not Delivered"})}),Object(Je.jsxs)("p",{children:["Order date - ",t.orderDate]})]})]},t._id)}))})]})})]})}}]),s}(r.Component),rs=Object(Me.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,myOrders:e.order.myOrders,orderLoading:e.order.orderLoading}}),{listMyOrders:function(){return function(e,t){e({type:ve}),Ye.a.get("/api/orders/myorders/mine",Ge(t)).then((function(t){e({type:ye,payload:t.data})})).catch((function(t){e(Qe(t.response.data.msg,t.response.status,"ORDER_MY_LIST_FAIL")),e({type:fe})}))}}})(ss);function ns(){var e=Object(u.f)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var cs=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(Je.jsx)(Me.a,{store:we,children:Object(Je.jsxs)(j.a,{className:"router",children:[Object(Je.jsx)(ns,{}),Object(Je.jsx)(Be,{}),Object(Je.jsx)("div",{className:"container",children:Object(Je.jsxs)(u.c,{children:[Object(Je.jsx)(u.a,{path:"/",exact:!0,component:lt}),Object(Je.jsx)(u.a,{path:"/product/:id",component:ut}),Object(Je.jsx)(u.a,{path:"/cart/:id?",component:mt}),Object(Je.jsx)(u.a,{path:"/signin",component:vt}),Object(Je.jsx)(u.a,{path:"/register",component:ft}),Object(Je.jsx)(u.a,{path:"/shipping",component:Mt}),Object(Je.jsx)(u.a,{path:"/payment",component:Yt}),Object(Je.jsx)(u.a,{path:"/placeorder",component:Gt}),Object(Je.jsx)(u.a,{path:"/order/:id",component:zt}),Object(Je.jsx)(u.a,{path:"/profile",component:At}),Object(Je.jsx)(u.a,{path:"/myorders",component:rs}),Object(Je.jsx)(u.a,{path:"/admin-product-list",component:Nt}),Object(Je.jsx)(u.a,{path:"/admin-product-create",component:Pt}),Object(Je.jsx)(u.a,{path:"/admin-user-list",component:It}),Object(Je.jsx)(u.a,{path:"/admin-user-edit/:id",component:kt}),Object(Je.jsx)(u.a,{path:"/admin-order-list",component:$t}),Object(Je.jsx)(u.a,{path:"/admin-order-details/:id",component:ts})]})}),Object(Je.jsx)(He,{})]})})}}]),s}(r.Component),as=cs;a.a.render(Object(Je.jsx)(n.a.StrictMode,{children:Object(Je.jsx)(as,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.2ed52c2c.chunk.js.map